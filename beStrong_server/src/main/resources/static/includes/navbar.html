<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link
    rel="stylesheet"
    href="https://use.fontawesome.com/releases/v5.13.0/css/all.css"
    integrity="sha384-Bfad6CLCknfcloXFOyFnlgtENryhrpZCe29RTifKEixXQZ38WheV+i/6YWSzkz3V"
    crossorigin="anonymous"/>

    <link rel="stylesheet" href="assets/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <link href="https://fonts.googleapis.com/css2?family=PT+Sans:wght@700&display=swap" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">

    <title>Document</title>
    <link rel="stylesheet" href="css/navbar.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/js-sha512/0.8.0/sha512.min.js"></script>
    <script src="js/login.js"></script>
    <script>
      var log = localStorage.getItem("loggedIn");
      var isTrainer = localStorage.getItem("isTrainer");

      if (log==1 && isTrainer==1){
        document.getElementById("btn").style.display = "none";
        document.getElementById("btn-log").style.display = "block";
        var user = localStorage.getItem("Username");
        let str = "Welcome, ";
        document.getElementById("span-user").innerHTML = str.concat(user);
      } 
      else if (log==1 && isTrainer==0){
        document.getElementById("btn").style.display = "none";
        document.getElementById("btn-log").style.display = "block";
        var user = localStorage.getItem("Username");
        let str = "Logged in as: ";
        document.getElementById("span-user").innerHTML = str.concat(user);
      }
      else{
        document.getElementById("btn").style.display = "block";
        document.getElementById("btn-log").style.display = "none";
      }
    </script>
</head>
<body>
    <!-- Modal -->
    <div class="modal fade" id="exampleModal2" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Sign In</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <label for="email" class="form-label"><i class="fas fa-user"></i>Email</label>
            <input type="text" class="form-control" id="input-email">

            <br>

            <label for="password" class="form-label"><i class="fas fa-lock"></i>Password</label>
            <input type="password" class="form-control" id="input-password">

            <button type="button" class="btn btn-primary" onclick="login()">Sign In</button>

          </div>
          <div class="modal-footer">
            <p>Not a member? <a href="sign-in.html">Sign Up</a></p>
            <p>Forgot <a href="">password</a>?</p>
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>
    <nav id="navbar">
        <div id="navbar-container">
          <a href='' id="navbar-logo">
            beStrong
            <i class="fas fa-dumbbell"></i>
          </a>
          <div id='menu-icon' onclick="myFunction2()">
            <i class="fas fa-bars"></i>
          </div>
          <ul id='nav-menu'>
            <li id='nav-item'>
              <a href="index.html" id='nav-links'>
                Home
              </a>
            </li>
            <li id='nav-item'>
              <a onclick="redirectToPayments()" id='nav-links'>Payments</a>
            </li>
            <li id='nav-item'>
              <a href='classes.html'id='nav-links'>Classes</a>
            </li>
    
            <li>
              <a href='sign-in.html' id='nav-links-mobile'>Sign Up</a>
            </li>
          </ul>
          <div id="btn-mobile">
            <button type="button" data-bs-toggle="modal" data-bs-target="#exampleModal2" id="btn" class="btn--medium btn--outline">SIGN IN</button>
            <button type="button" id="btn-log" class="btn--medium btn--outline" style="display: none; font-family: 'PT Sans', sans-serif;" onclick="logout()">LOGOUT</button>
          </div>
        </div>
        <div id="div-span">
          <span id="span-user"></span>
        </div>
      </nav>
      <script>
        function myFunction() {
          var element = document.getElementById("menu-icon");
          element.classList.toggle("active");
        }

        function myFunction2() {
          var x = document.getElementById("nav-menu"); //myDIV = div to toggle

              if (x.style.display 
          === "block") {
              x.style.display = "none";
            } else {
              x.style.display = 
            "block";
            }
        } 

        function logout(){
          if(window.confirm("Do you want to Logout?")){
            localStorage.setItem("loggedIn", 0);
            localStorage.removeItem("Username");
            localStorage.removeItem("Password");
            localStorage.removeItem("Phonenumber");
            localStorage.removeItem("Id");
            localStorage.setItem("isTrainer", 0);
            window.location.href = "index.html";
          }
        }

        function redirectToPayments(){
            var log = localStorage.getItem("loggedIn");
            if (log==1){
              window.location.href = "payments.html";
            } else {
              window.alert("You must be logged in to access payments!");
            }
          }
      </script>
</body>
</html>